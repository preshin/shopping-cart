{"ast":null,"code":"import _defineProperty from \"/Users/preshin/Study/shoppingCart/shopping-cart/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/preshin/Study/shoppingCart/shopping-cart/src/components/ProductsList.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from 'react';\nimport Product from './Product';\nimport { StoreContext } from '../contexts/StoreContext';\n\nclass ProductsList extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      productsData: []\n    };\n  }\n\n  componentDidMount() {\n    fetch('http://localhost:5000/products', {\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      }\n    }).then(response => response.json()).then(data => {\n      const productDatawithCount = data.map(product => _objectSpread({}, product, {\n        count: 0\n      })); // this.setState({productsData: productDatawithCount})\n\n      this.context.updateProductList(productDatawithCount);\n    }).catch(err => {\n      console.log(\"Error Reading data \" + err);\n    });\n  }\n\n  render() {\n    const productsData = this.state.productsData;\n    console.log('====================================');\n    console.log(this.context);\n    console.log('====================================');\n    return React.createElement(\"table\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    }, React.createElement(\"tbody\", {\n      style: {},\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }, productsData && productsData.map(product => React.createElement(Product, {\n      product: product,\n      key: product.productId,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nProductsList.contextType = StoreContext;\nexport default ProductsList;","map":{"version":3,"sources":["/Users/preshin/Study/shoppingCart/shopping-cart/src/components/ProductsList.js"],"names":["React","Component","Product","StoreContext","ProductsList","state","productsData","componentDidMount","fetch","headers","then","response","json","data","productDatawithCount","map","product","count","context","updateProductList","catch","err","console","log","render","productId","contextType"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,SAASC,YAAT,QAA6B,0BAA7B;;AACA,MAAMC,YAAN,SAA2BH,SAA3B,CAAqC;AAAA;AAAA;AAAA,SAGnCI,KAHmC,GAG3B;AAAEC,MAAAA,YAAY,EAAE;AAAhB,KAH2B;AAAA;;AAKnCC,EAAAA,iBAAiB,GAAE;AACjBC,IAAAA,KAAK,CAAC,gCAAD,EAAmC;AACtCC,MAAAA,OAAO,EAAG;AACR,wBAAgB,kBADR;AAER,kBAAU;AAFF;AAD4B,KAAnC,CAAL,CAOCC,IAPD,CAOOC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAPpB,EAQCF,IARD,CAQOG,IAAD,IAAU;AACd,YAAMC,oBAAoB,GAAGD,IAAI,CAACE,GAAL,CAASC,OAAO,sBAASA,OAAT;AAAkBC,QAAAA,KAAK,EAAE;AAAzB,QAAhB,CAA7B,CADc,CAEhB;;AACA,WAAKC,OAAL,CAAaC,iBAAb,CAA+BL,oBAA/B;AACC,KAZD,EAaCM,KAbD,CAaOC,GAAG,IAAI;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAY,wBAAwBF,GAApC;AACD,KAfD;AAgBD;;AAEDG,EAAAA,MAAM,GAAG;AAAA,UACAlB,YADA,GACgB,KAAKD,KADrB,CACAC,YADA;AAEPgB,IAAAA,OAAO,CAACC,GAAR,CAAY,sCAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKL,OAAjB;AACAI,IAAAA,OAAO,CAACC,GAAR,CAAY,sCAAZ;AACA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAO,MAAA,KAAK,EAAE,EAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGjB,YAAY,IAAIA,YAAY,CAACS,GAAb,CAAiBC,OAAO,IACvC,oBAAC,OAAD;AAAS,MAAA,OAAO,EAAEA,OAAlB;AAA2B,MAAA,GAAG,EAAEA,OAAO,CAACS,SAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADe,CADnB,CADF,CADF;AASD;;AAtCkC;;AAA/BrB,Y,CACGsB,W,GAAcvB,Y;AAwCvB,eAAeC,YAAf","sourcesContent":["import React, { Component } from 'react';\nimport Product from './Product';\nimport { StoreContext } from '../contexts/StoreContext';\nclass ProductsList extends Component {\n  static contextType = StoreContext;\n\n  state = { productsData: [] }\n\n  componentDidMount(){\n    fetch('http://localhost:5000/products', {\n      headers : { \n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n       }\n\n    })\n    .then((response) => response.json())\n    .then((data) => {\n      const productDatawithCount = data.map(product => ({...product, count: 0}))\n    // this.setState({productsData: productDatawithCount})\n    this.context.updateProductList(productDatawithCount)\n    })\n    .catch(err => {\n      console.log(\"Error Reading data \" + err);\n    });\n  }\n\n  render() {\n    const {productsData} = this.state\n    console.log('====================================');\n    console.log(this.context);\n    console.log('====================================');\n    return (\n      <table>\n        <tbody style={{}}>\n          {productsData && productsData.map(product=>\n            <Product product={product} key={product.productId}/>\n          )}\n        </tbody>\n      </table> \n     );\n  }\n}\n \nexport default ProductsList;"]},"metadata":{},"sourceType":"module"}